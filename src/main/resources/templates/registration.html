<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	xmlns:form="http://www.springframework.org/tags/form"
	xmlns:spring="http://www.springframework.org/tags">

<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="" />
<meta name="author" content="" />

<title>Create an account</title>

<link rel="stylesheet" href="/css/main.css" th:href="@{/css/main.css}" />

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<h1 layout:fragment="header" th:text="#{registration.page.title}">registration</h1>
	<div layout:fragment="content" class="container">
		<form th:action="@{/registration}" th:object="${user}" th:method="post" role="form">
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<p th:if="${#fields.hasErrors()}" th:errors="*{username}" class="error">Error</p>
				<label th:text="#{registration.page.username}">Name</label> 
				<input id="username" type="text" th:field="*{username}" class="form-control"
					placeholder="name" autofocus="autofocus" />
			</div>
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<p th:if="${#fields.hasErrors()}" th:errors="*{firstname}" class="error">Error</p>
				<label th:text="#{registration.page.firstname}">firstname</label> 
				<input id="firstname" type="text" th:field="*{firstname}" class="form-control"
					placeholder="firstname" autofocus="autofocus" />
			</div>
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<p th:if="${#fields.hasErrors()}" th:errors="*{lastname}" class="error">Error</p>
				<label th:text="#{registration.page.lastname}">lastname</label> 
				<input id="lastname" type="text" th:field="*{lastname}" class="form-control"
					placeholder="lastname" />
			</div>
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<p th:if="${#fields.hasErrors()}" th:errors="*{password}" class="error">Error</p>
				<label th:text="#{registration.page.password}">Password</label> 
				<input id="password" type="password" th:field="*{password}" class="form-control"
					placeholder="password" />
			</div>
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<p th:if="${#fields.hasErrors()}" th:errors="*{passwordConfirm}" class="error">Error</p>
				<label th:text="#{registration.page.passwordConfirm}">Confirm Password</label> 
				<input id="passwordConfirm" type="password" th:field="*{passwordConfirm}" class="form-control"
					placeholder="passwordConfirm" />
			</div>
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<p th:if="${#fields.hasErrors()}" th:errors="*{role}" class="error">Error</p>
				<label th:text="#{registration.page.role}">role</label> 
				<br />
				<select id="roles" th:field="*{roles}" multiple="multiple" class="form-control">
					<option th:each="role : ${allRoles}"
						th:value="${{role}}"
						th:text="${role.name}">
						User					
					</option>
				</select>
				<br />
			</div>
			<button type="submit" class="btn btn-default">Submit</button>
		</form>
	</div>
</body>
</html>
